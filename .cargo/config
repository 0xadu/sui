[alias]
# Collection of project wide clippy lints. This is done via an alias because
# clippy doesn't currently allow for specifiying project-wide lints in a
# configuration file. This is a similar workaround to the ones presented here:
# <https://github.com/EmbarkStudios/rust-ecosystem/issues/59>
xclippy = [
    "clippy", "--all-targets", "--",
    "-Wclippy::all",
    "-Wclippy::disallowed_methods",

    # Add new "allows" for Move crates
    # TODO: figure out a way to ignore these in Move alone, or
    "-Aclippy::type-complexity",
    "-Aclippy::enum-variant-names",
    "-Aclippy::new_without_default",
    "-Aclippy::unit_arg",
    "-Aclippy::upper-case-acronyms",
    "-Aclippy::needless-collect",
    "-Aclippy::or-fun-call"
]
xlint = "run --package x --bin x -- lint"

[build]
rustflags = ["-C", "force-frame-pointers=yes", "-C", "force-unwind-tables=yes"]
